# Описание домашней работы #1
## Инструкция по работе с программой
Все команды начинаются с ключа `zoo`. Разделителями между ключевыми словами являются пробельные символы. Их можно оставлять неограниченное количество, однако посторонние символы между пробелами не отбрасываются.\
Полный список команд будет доступен если ввести в терминал: `zoo help`.\
Что бы выйти из программы достаточно набрать `zoo exit`.\
Все атрибуты команд являются чувствительными к регистру. Например:\
`zoo touchable` ✔️\
`zOo Touchable` ❌\
`Zoo toUchABLe` :x:
### Как взаимодействовать с системой
На данном этапе система поддерживает добавления инфомарции о новых животных в зоопарке, а так же некоторых инвентаризуемых вещах.\
Доступные для учета животные:
* `Predators` - Хищники
  - `Wolf` - Волк
  - `Tiger` - Тигр
* `Herbivores` - Травоядные
  - `Rabbit` - Кролик
  - `Monkey` - Обезъяна

Доступное оборудование для учета:

* `Table` - Стол
* `Computer`- Компьютер(готовая система)

После добавления объектов можно посмотреть заявленные в ТЗ характеристики в табличном формате, вызвав нужную для этого команду. Если статус животного, определился как больной, то оно не может быть учтено в общих вольерах со здоровыми животными, поэтому оно остается _на балансе ветеринарной клиники_.\
В дальнейшем так же можно будет добавить проверку на целостность для объектов которые планируется ставить на учет(сейчас они ставятся на учет без проверки), что бы можно было не принимать их, а повторить заказ.\
Так же можно отдельной командой `zoo touchable` посмотреть на список животных, которых можно отпускать в контактные вольеры.\
А команда `zoo animal_totals` показывает суммарные показатели(количество корма которое нужно ежедневно отдавать и суммарное число животных в вольерах)

При добавлении нового объекта, он сохраняется по его идентификационному номеру(который должен быть неотрицательным), поэтому если вы попытаетесь присвоить двум объектам один и тот же номер, получите сообщение об ошибке.
## Архитектурные решения
Класс `MoscowZoo` зависит от большого числа классов, которые включают в себя все типы животных и объектов. Что бы упростить поддержку добавления новых животных и объектов, была создана иерархия объектов, наверху которой находится класс `Animal` для животных, и класс `Thing` для объектов подлежащих инвентаризации.

Ниже показана иерархия наследования примененная мной:
```
_ Animal
       \_ Herbivore
       |           \_ Rabbit
       |           \_ Monkey
       \_ Predator
                   \_ Wolf
                   \_ Tiger
```
```
_ Thing 
        \_ Computer
        \_ Table
```

Это реализует принцип DI - _Dependency Injection_. К каждому классу я так же параллельно добавил фабрику его производства, что бы упростить код создания объекта из данных введенных с клавиатуры. Для удобной сборки я использовал IoC - контейнер, что бы автоматизировать процесс создания зависимостей.

Разделение на классы `Herbivore` и `Predator` в некоторых моментах оказывается довольно существенным, и приводит к дополнительным условным проверкам, но я считаю что оно оправданно, тем что эта биологическая классификация животных, изменения в которую влекут за собой масштабные последствия, соответсвтенно вряд ли будут производиться в обозримой перспективе(я знаю про всеядных животных, это пожалуй единственный возможный здесь конфликт)

При создании новых объектов животных или вещей, для гибкой настройки их свойств используется полиморфное поведение в рамках иерархии наследования.\
Согласно принципу _Single Responsibility_ были создана система из классов в данном проекте. Описание зон ответственности основных из них:
- `MoscowZoo` - класс ответственный за хранение и доступ к животным, а так же инвентарный учет объектов
- `VeterinaryClinic` - класс ответственный за учет больных животных
- `ClientHandler` - класс ответственный за опрос пользователя, интерпретацию введенных с клавиатуры данных, и вывод сообщений на экран
- `ConsoleTable` - класс ответственный за форматирование и упорядочивание данных в виде таблицы
- `Matcher` - класс ответственный за обработку аргументов командной строки и их связь между кодами(enum)
- `Animal` - класс описывающий поведение и характеристики животного(дальнейшие классы специфицируют)
- `Thing` - класс описывающий характеристики вещи(дальнейшие классы специфицируют)
